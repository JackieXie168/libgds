<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>GDS - Generic Data Structures: str_util.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>str_util.c</h1><a href="str__util_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">// =================================================================</span>
00002 <span class="comment">// @(#)str_util.c</span>
00003 <span class="comment">//</span>
00004 <span class="comment">// @author Bruno Quoitin (bqu@infonet.fundp.ac.be)</span>
00005 <span class="comment">// @date 24/07/2003</span>
00006 <span class="comment">// @lastdate 24/07/2003</span>
00007 <span class="comment">// =================================================================</span>
00008 
00009 <span class="preprocessor">#include &lt;<a class="code" href="memory_8h.html">memory.h</a>&gt;</span>
00010 <span class="preprocessor">#include &lt;<a class="code" href="str__util_8h.html">str_util.h</a>&gt;</span>
00011 
00012 <span class="comment">// ----- str_lcreate ------------------------------------------------</span>
<a name="l00016"></a><a class="code" href="str__util_8c.html#a0">00016</a> <span class="comment"></span><span class="keywordtype">char</span> * <a class="code" href="str__util_8c.html#a0">str_lcreate</a>(size_t tLen)
00017 {
00018   <span class="keywordflow">return</span> (<span class="keywordtype">char</span> *) <a class="code" href="memory_8h.html#a0">MALLOC</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*(tLen+1));
00019 }
00020 
00021 <span class="comment">// ----- str_create -------------------------------------------------</span>
<a name="l00025"></a><a class="code" href="str__util_8c.html#a1">00025</a> <span class="comment"></span><span class="keywordtype">char</span> * <a class="code" href="str__util_8c.html#a1">str_create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * pcString)
00026 {
00027   <span class="keywordtype">char</span> * pcNewString= <a class="code" href="str__util_8c.html#a0">str_lcreate</a>(strlen(pcString));
00028   strcpy(pcNewString, pcString);
00029   <span class="keywordflow">return</span> pcNewString;
00030 }
00031 
00032 <span class="comment">// ----- str_ncreate ------------------------------------------------</span>
<a name="l00036"></a><a class="code" href="str__util_8c.html#a2">00036</a> <span class="comment"></span><span class="keywordtype">char</span> * <a class="code" href="str__util_8c.html#a2">str_ncreate</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * pcString, size_t tLen)
00037 {
00038   <span class="keywordtype">char</span> * pcNewString= <a class="code" href="str__util_8c.html#a0">str_lcreate</a>(tLen);
00039   strncpy(pcNewString, pcString, tLen);
00040   pcNewString[tLen]= <span class="charliteral">'\0'</span>;
00041   <span class="keywordflow">return</span> pcNewString;
00042 }
00043 
00044 <span class="comment">// ----- str_lextend ------------------------------------------------</span>
<a name="l00048"></a><a class="code" href="str__util_8c.html#a3">00048</a> <span class="comment"></span><span class="keywordtype">char</span> * <a class="code" href="str__util_8c.html#a3">str_lextend</a>(<span class="keywordtype">char</span> ** ppcString, size_t tNewLen)
00049 {
00050   *ppcString= (<span class="keywordtype">char</span> *) <a class="code" href="memory_8h.html#a1">REALLOC</a>(*ppcString, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*(tNewLen+1));
00051   <span class="keywordflow">return</span> *ppcString;
00052 }
00053 
00054 <span class="comment">// ----- str_destroy ------------------------------------------------</span>
<a name="l00058"></a><a class="code" href="str__util_8c.html#a4">00058</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="str__util_8c.html#a4">str_destroy</a>(<span class="keywordtype">char</span> ** ppcString)
00059 {
00060   <span class="keywordflow">if</span> (*ppcString != NULL) {
00061     <a class="code" href="memory_8h.html#a2">FREE</a>(*ppcString);
00062     *ppcString= NULL;
00063   }
00064 }
00065 
00066 <span class="comment">// ----- str_append -------------------------------------------------</span>
<a name="l00071"></a><a class="code" href="str__util_8c.html#a5">00071</a> <span class="comment"></span><span class="keywordtype">char</span> * <a class="code" href="str__util_8c.html#a5">str_append</a>(<span class="keywordtype">char</span> ** ppcString, <span class="keyword">const</span> <span class="keywordtype">char</span> * pcStrToAppend)
00072 {
00073   size_t tLenToAppend= strlen(pcStrToAppend);
00074 
00075   <span class="keywordflow">if</span> (tLenToAppend &gt; 0) {
00076     *ppcString= <a class="code" href="str__util_8c.html#a3">str_lextend</a>(ppcString, strlen(*ppcString)+tLenToAppend);
00077     <span class="comment">// The following line is not the most efficient since I guess it</span>
00078     <span class="comment">// has to recompute the length of *ppcString before appending !!!</span>
00079     strcat(*ppcString, pcStrToAppend);
00080   }
00081   <span class="keywordflow">return</span> *ppcString;
00082 }
00083 
00084 <span class="comment">// ----- str_nappend ------------------------------------------------</span>
<a name="l00088"></a><a class="code" href="str__util_8c.html#a6">00088</a> <span class="comment"></span><span class="keywordtype">char</span> * <a class="code" href="str__util_8c.html#a6">str_nappend</a>(<span class="keywordtype">char</span> ** ppcString, <span class="keyword">const</span> <span class="keywordtype">char</span> * pcStrToAppend,
00089                    size_t tLen)
00090 {
00091   <span class="keywordflow">if</span> (tLen &gt; 0) {
00092     *ppcString= <a class="code" href="str__util_8c.html#a3">str_lextend</a>(ppcString, strlen(*ppcString)+tLen);
00093     <span class="comment">// The following line is not the most efficient since I guess it</span>
00094     <span class="comment">// has to recompute the length of *ppcString before appending !!!</span>
00095     strncat(*ppcString, pcStrToAppend, tLen);
00096     (*ppcString)[strlen(*ppcString)+tLen]= <span class="charliteral">'\0'</span>;
00097   }
00098   <span class="keywordflow">return</span> *ppcString;
00099 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jul 30 15:56:47 2003 for GDS - Generic Data Structures by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
