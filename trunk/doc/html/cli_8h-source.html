<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>GDS - Generic Data Structures: cli.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>cli.h</h1><a href="cli_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">// ==================================================================</span>
00002 <span class="comment">// @(#)cli.h</span>
00003 <span class="comment">//</span>
00004 <span class="comment">// @author Bruno Quoitin (bqu@infonet.fundp.ac.be)</span>
00005 <span class="comment">// @date 25/06/2003</span>
00006 <span class="comment">// @lastdate 25/07/2003</span>
00007 <span class="comment">// ==================================================================</span>
00008 
00009 <span class="preprocessor">#ifndef __GDS_CLI_H__</span>
00010 <span class="preprocessor"></span><span class="preprocessor">#define __GDS_CLI_H__</span>
00011 <span class="preprocessor"></span>
00012 <span class="preprocessor">#include &lt;<a class="code" href="array_8h.html">array.h</a>&gt;</span>
00013 <span class="preprocessor">#include &lt;<a class="code" href="stack_8h.html">stack.h</a>&gt;</span>
00014 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00015 <span class="preprocessor">#include &lt;<a class="code" href="tokenizer_8h.html">tokenizer.h</a>&gt;</span>
00016 
<a name="l00017"></a><a class="code" href="cli_8h.html#a0">00017</a> <span class="preprocessor">#define CLI_SUCCESS                  0</span>
<a name="l00018"></a><a class="code" href="cli_8h.html#a1">00018</a> <span class="preprocessor"></span><span class="preprocessor">#define CLI_ERROR_UNEXPECTED        -1</span>
<a name="l00019"></a><a class="code" href="cli_8h.html#a2">00019</a> <span class="preprocessor"></span><span class="preprocessor">#define CLI_ERROR_UNKNOWN_COMMAND   -2</span>
<a name="l00020"></a><a class="code" href="cli_8h.html#a3">00020</a> <span class="preprocessor"></span><span class="preprocessor">#define CLI_ERROR_MISSING_PARAMETER -3</span>
<a name="l00021"></a><a class="code" href="cli_8h.html#a4">00021</a> <span class="preprocessor"></span><span class="preprocessor">#define CLI_ERROR_NOT_A_COMMAND     -4</span>
<a name="l00022"></a><a class="code" href="cli_8h.html#a5">00022</a> <span class="preprocessor"></span><span class="preprocessor">#define CLI_ERROR_COMMAND_FAILED    -5</span>
<a name="l00023"></a><a class="code" href="cli_8h.html#a6">00023</a> <span class="preprocessor"></span><span class="preprocessor">#define CLI_ERROR_BAD_PARAMETER     -6</span>
<a name="l00024"></a><a class="code" href="cli_8h.html#a7">00024</a> <span class="preprocessor"></span><span class="preprocessor">#define CLI_ERROR_CTX_CREATE        -7</span>
<a name="l00025"></a><a class="code" href="cli_8h.html#a8">00025</a> <span class="preprocessor"></span><span class="preprocessor">#define CLI_WARNING_EMPTY_COMMAND    1</span>
00026 <span class="preprocessor"></span>
<a name="l00027"></a><a class="code" href="cli_8h.html#a9">00027</a> <span class="keyword">typedef</span> <a class="code" href="structSPtrArray.html">SPtrArray</a> <a class="code" href="structSPtrArray.html">SCliCmds</a>;
<a name="l00028"></a><a class="code" href="cli_8h.html#a10">00028</a> <span class="keyword">typedef</span> <a class="code" href="structSPtrArray.html">SPtrArray</a> <a class="code" href="structSPtrArray.html">SCliParams</a>;
00029 
<a name="l00030"></a><a class="code" href="structSCliContext.html">00030</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00031"></a><a class="code" href="structSCliContext.html#o0">00031</a>   <a class="code" href="structSStack.html">SStack</a> * pStack;   <span class="comment">// Stack with current contexts</span>
<a name="l00032"></a><a class="code" href="structSCliContext.html#o1">00032</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uSavedDepth;
<a name="l00033"></a><a class="code" href="structSCliContext.html#o2">00033</a>   <a class="code" href="structSPtrArray.html">STokens</a> * pTokens; <span class="comment">// List of current parameter values</span>
00034 } <a class="code" href="structSCliContext.html">SCliContext</a>;
00035 
<a name="l00036"></a><a class="code" href="cli_8h.html#a11">00036</a> <span class="keyword">typedef</span> int (*FCliContextCreate)(<a class="code" href="structSCliContext.html">SCliContext</a> * pContext, <span class="keywordtype">void</span> ** ppItem);
<a name="l00037"></a><a class="code" href="cli_8h.html#a12">00037</a> <span class="keyword">typedef</span> void (*FCliContextDestroy)(<span class="keywordtype">void</span> ** pItem);
<a name="l00038"></a><a class="code" href="cli_8h.html#a13">00038</a> <span class="keyword">typedef</span> int (*FCliCommand)(<a class="code" href="structSCliContext.html">SCliContext</a> * pContext, <a class="code" href="structSPtrArray.html">STokens</a> * pTokens);
<a name="l00039"></a><a class="code" href="cli_8h.html#a14">00039</a> <span class="keyword">typedef</span> int (*FCliCheckParam)(<span class="keywordtype">char</span> * pcValue);
00040 
<a name="l00041"></a><a class="code" href="structSCliCmd.html">00041</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00042"></a><a class="code" href="structSCliCmd.html#o0">00042</a>   <span class="keywordtype">char</span> * pcName;
<a name="l00043"></a><a class="code" href="structSCliCmd.html#o1">00043</a>   <a class="code" href="cli_8h.html#a9">SCliCmds</a> * pSubCmds;
<a name="l00044"></a><a class="code" href="structSCliCmd.html#o2">00044</a>   <a class="code" href="cli_8h.html#a10">SCliParams</a> * pParams;
<a name="l00045"></a><a class="code" href="structSCliCmd.html#o3">00045</a>   <a class="code" href="cli_8h.html#a11">FCliContextCreate</a> fCtxCreate;
<a name="l00046"></a><a class="code" href="structSCliCmd.html#o4">00046</a>   <a class="code" href="cli_8h.html#a12">FCliContextDestroy</a> fCtxDestroy;
<a name="l00047"></a><a class="code" href="structSCliCmd.html#o5">00047</a>   <a class="code" href="cli_8h.html#a13">FCliCommand</a> fCommand;
00048 } <a class="code" href="structSCliCmd.html">SCliCmd</a>;
00049 
<a name="l00050"></a><a class="code" href="structSCliCtxItem.html">00050</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00051"></a><a class="code" href="structSCliCtxItem.html#o0">00051</a>   <span class="keywordtype">void</span> * pItem;
<a name="l00052"></a><a class="code" href="structSCliCtxItem.html#o1">00052</a>   <a class="code" href="structSCliCmd.html">SCliCmd</a> * pCmd;
<a name="l00053"></a><a class="code" href="structSCliCtxItem.html#o2">00053</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uNumParams;
00054 } <a class="code" href="structSCliCtxItem.html">SCliCtxItem</a>;
00055 
<a name="l00056"></a><a class="code" href="structSCliCmdParam.html">00056</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00057"></a><a class="code" href="structSCliCmdParam.html#o0">00057</a>   <span class="keywordtype">char</span> * pcName;
<a name="l00058"></a><a class="code" href="structSCliCmdParam.html#o1">00058</a>   <a class="code" href="cli_8h.html#a14">FCliCheckParam</a> fCheckParam;
00059 } <a class="code" href="structSCliCmdParam.html">SCliCmdParam</a>;
00060 
<a name="l00061"></a><a class="code" href="structSCli.html">00061</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00062"></a><a class="code" href="structSCli.html#o0">00062</a>   <a class="code" href="structSTokenizer.html">STokenizer</a> * pTokenizer;
<a name="l00063"></a><a class="code" href="structSCli.html#o1">00063</a>   <a class="code" href="structSCliCmd.html">SCliCmd</a> * pBaseCommand;
<a name="l00064"></a><a class="code" href="structSCli.html#o2">00064</a>   <a class="code" href="structSCliContext.html">SCliContext</a> * pExecContext;     <span class="comment">// Current execution context (stack)</span>
00065   <span class="comment">// Variables used for error reporting purpose:</span>
<a name="l00066"></a><a class="code" href="structSCli.html#o3">00066</a>   <span class="keywordtype">int</span> iExecTokenIndex;           <span class="comment">// Index to current token in command-line</span>
<a name="l00067"></a><a class="code" href="structSCli.html#o4">00067</a>   <a class="code" href="structSCliCmd.html">SCliCmd</a> * pExecCmd;            <span class="comment">// Command which is currently processed</span>
<a name="l00068"></a><a class="code" href="structSCli.html#o5">00068</a>   <a class="code" href="structSCliCmdParam.html">SCliCmdParam</a> * pExecParam;     <span class="comment">// Parameter which is currently expected</span>
00069 } <a class="code" href="structSCli.html">SCli</a>;
00070 
00071 <span class="comment">// ----- cli_cmd_param_create ---------------------------------------</span>
00072 <span class="keyword">extern</span> <a class="code" href="structSCliCmdParam.html">SCliCmdParam</a> * <a class="code" href="cli_8c.html#a3">cli_cmd_param_create</a>(<span class="keywordtype">char</span> * pcName,
00073                                            FCliCheckParam fCheckParam);
00074 <span class="comment">// ----- cli_cmd_param_destroy --------------------------------------</span>
00075 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="cli_8c.html#a4">cli_cmd_param_destroy</a>(<a class="code" href="structSCliCmdParam.html">SCliCmdParam</a> ** ppParam);
00076 <span class="comment">// ----- cli_cmds_create --------------------------------------------</span>
00077 <span class="keyword">extern</span> <a class="code" href="cli_8h.html#a9">SCliCmds</a> * <a class="code" href="cli_8c.html#a16">cli_cmds_create</a>();
00078 <span class="comment">// ----- cli_cmds_destroy -------------------------------------------</span>
00079 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="cli_8c.html#a17">cli_cmds_destroy</a>(SCliCmds ** ppCmds);
00080 <span class="comment">// ----- cli_cmds_add -----------------------------------------------</span>
00081 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cli_8c.html#a18">cli_cmds_add</a>(SCliCmds * pCmds, <a class="code" href="structSCliCmd.html">SCliCmd</a> * pCmd);
00082 <span class="comment">// ----- cli_params_create ------------------------------------------</span>
00083 <span class="keyword">extern</span> <a class="code" href="cli_8h.html#a10">SCliParams</a> * <a class="code" href="cli_8c.html#a7">cli_params_create</a>();
00084 <span class="comment">// ----- cli_params_destroy -----------------------------------------</span>
00085 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="cli_8c.html#a8">cli_params_destroy</a>(SCliParams ** ppParams);
00086 <span class="comment">// ----- cli_params_add ---------------------------------------------</span>
00087 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cli_8c.html#a9">cli_params_add</a>(SCliParams * pParams, <span class="keywordtype">char</span> * pcName,
00088                           FCliCheckParam fCheckParam);
00089 <span class="comment">// ----- cli_cmd_create ---------------------------------------------</span>
00090 <span class="keyword">extern</span> <a class="code" href="structSCliCmd.html">SCliCmd</a> * <a class="code" href="cli_8c.html#a10">cli_cmd_create</a>(<span class="keywordtype">char</span> * pcName, FCliCommand fCommand,
00091                                 SCliCmds * pSubCmds,
00092                                 SCliParams * pParams);
00093 <span class="comment">// ----- cli_cmd_create ---------------------------------------------</span>
00094 <span class="keyword">extern</span> <a class="code" href="structSCliCmd.html">SCliCmd</a> * <a class="code" href="cli_8c.html#a11">cli_cmd_create_ctx</a>(<span class="keywordtype">char</span> * pcName,
00095                                     FCliContextCreate fCtxCreate,
00096                                     FCliContextDestroy fCtxDestroy,
00097                                     SCliCmds * pSubCmds,
00098                                     SCliParams * pParams);
00099 <span class="comment">// ----- cli_cmd_destroy --------------------------------------------</span>
00100 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="cli_8c.html#a12">cli_cmd_destroy</a>(<a class="code" href="structSCliCmd.html">SCliCmd</a> ** ppCmd);
00101 <span class="comment">// ----- cli_cmd_dump -----------------------------------------------</span>
00102 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="cli_8c.html#a13">cli_cmd_dump</a>(FILE * pStream, <span class="keywordtype">char</span> * pcPrefix,
00103                          <a class="code" href="structSCliCmd.html">SCliCmd</a> * pCmd);
00104 <span class="comment">// ----- cli_cmd_add_subcmd -----------------------------------------</span>
00105 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cli_8c.html#a22">cli_cmd_add_subcmd</a>(<a class="code" href="structSCliCmd.html">SCliCmd</a> * pCmd, <a class="code" href="structSCliCmd.html">SCliCmd</a> * pSubCmd);
00106 <span class="comment">// ----- cli_cmd_find_submd -----------------------------------------</span>
00107 <span class="keyword">extern</span> <a class="code" href="structSCliCmd.html">SCliCmd</a> * <a class="code" href="cli_8c.html#a19">cli_cmd_find_subcmd</a>(<a class="code" href="structSCliCmd.html">SCliCmd</a> * pCmd, <span class="keywordtype">char</span> * pcName);
00108 <span class="comment">// ----- cli_cmd_get_num_subcmds ------------------------------------</span>
00109 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cli_8c.html#a20">cli_cmd_get_num_subcmds</a>(<a class="code" href="structSCliCmd.html">SCliCmd</a> * pCmd);
00110 <span class="comment">// ----- cli_cmd_get_subcmd_at --------------------------------------</span>
00111 <span class="keyword">extern</span> <a class="code" href="structSCliCmd.html">SCliCmd</a> * <a class="code" href="cli_8c.html#a21">cli_cmd_get_subcmd_at</a>(<a class="code" href="structSCliCmd.html">SCliCmd</a> * pCmd, <span class="keywordtype">int</span> iIndex);
00112 <span class="comment">// ----- cli_cmd_add_param ------------------------------------------</span>
00113 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cli_8c.html#a23">cli_cmd_add_param</a>(<a class="code" href="structSCliCmd.html">SCliCmd</a> * pCmd, <span class="keywordtype">char</span> * pcName,
00114                              FCliCheckParam fCheckParam);
00115 <span class="comment">// ----- cli_cmd_get_num_params -------------------------------------</span>
00116 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cli_8c.html#a24">cli_cmd_get_num_params</a>(<a class="code" href="structSCliCmd.html">SCliCmd</a> * pCmd);
00117 <span class="comment">// ----- cli_cmd_get_param_at ---------------------------------------</span>
00118 <span class="keyword">extern</span> <a class="code" href="structSCliCmdParam.html">SCliCmdParam</a> * <a class="code" href="cli_8c.html#a25">cli_cmd_get_param_at</a>(<a class="code" href="structSCliCmd.html">SCliCmd</a> * pCmd,
00119                                            uint32_t uIndex);
00120 <span class="comment">// ----- cli_create -------------------------------------------------</span>
00121 <span class="keyword">extern</span> <a class="code" href="structSCli.html">SCli</a> * <a class="code" href="cli_8c.html#a26">cli_create</a>();
00122 <span class="comment">// ----- cli_destroy ------------------------------------------------</span>
00123 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="cli_8c.html#a27">cli_destroy</a>(<a class="code" href="structSCli.html">SCli</a> ** ppCli);
00124 <span class="comment">// ----- cli_execute ------------------------------------------------</span>
00125 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cli_8c.html#a29">cli_execute</a>(<a class="code" href="structSCli.html">SCli</a> * pCli, <span class="keywordtype">char</span> * pcCmd);
00126 <span class="comment">// ----- cli_register_cmd -------------------------------------------</span>
00127 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cli_8c.html#a30">cli_register_cmd</a>(<a class="code" href="structSCli.html">SCli</a> * pCli, <a class="code" href="structSCliCmd.html">SCliCmd</a> * pCmd);
00128 <span class="comment">// ----- cli_perror -------------------------------------------------</span>
00129 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="cli_8c.html#a31">cli_perror</a>(FILE * pStream, <span class="keywordtype">int</span> iErrorCode);
00130 <span class="comment">// ----- cli_execute_file -------------------------------------------</span>
00131 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="cli_8c.html#a32">cli_execute_file</a>(<a class="code" href="structSCli.html">SCli</a> * pCli, FILE * pStream);
00132 
00133 
00134 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jul 30 15:56:47 2003 for GDS - Generic Data Structures by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
